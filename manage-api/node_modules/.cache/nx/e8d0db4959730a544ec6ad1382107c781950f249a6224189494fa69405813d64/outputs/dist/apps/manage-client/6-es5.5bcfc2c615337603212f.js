!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var c=e[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}function n(t,n,c){return n&&e(t.prototype,n),c&&e(t,c),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"1Mib":function(e,c,a){"use strict";a.r(c),a.d(c,"DashboardModule",function(){return T});var i=a("ofXK"),o=a("sYmb"),s=a("tyNb"),r=a("HYn3"),l=a("mrSG"),u=a("w4Ql"),d=a("fXoL"),m=a("Wp6s"),b=a("NFeN");function h(t,e){if(1&t){var n=d.cc();d.bc(0,"mat-card",5),d.ic("click",function(){d.Fc(n);var t=d.mc().$implicit;return d.mc().getRouthPath(t.link)}),d.bc(1,"table"),d.bc(2,"tr"),d.bc(3,"td"),d.bc(4,"mat-icon"),d.Qc(5),d.ac(),d.ac(),d.bc(6,"td"),d.Wb(7,"div",6),d.ac(),d.bc(8,"td",7),d.bc(9,"h5"),d.Qc(10),d.ac(),d.bc(11,"h4"),d.Qc(12),d.ac(),d.ac(),d.ac(),d.ac(),d.ac()}if(2&t){var c=d.mc().$implicit;d.uc("routerLink",c.link),d.Kb(5),d.Rc(c.icon),d.Kb(5),d.Rc(c.name),d.Kb(2),d.Rc(c.count.toLocaleString("en-IN"))}}function p(t,e){if(1&t&&(d.bc(0,"div",3),d.Pc(1,h,13,4,"mat-card",4),d.ac()),2&t){var n=e.index,c=d.mc();d.Kb(1),d.tc("ngIf",1==c.cardsArray[n].active)}}var y,g=((y=function(){function e(n,c,a){t(this,e),this.roleService=n,this.helper=c,this.bannerRepo=a,this.cardsArray=[]}return n(e,[{key:"ngOnInit",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.currentUserType=localStorage.getItem("currentUserType"),e=localStorage.getItem("role"),this.roleData=localStorage.getItem("roleData"),this.roleData){t.next=7;break}return t.next=5,this.roleService.getRoleById(e).toPromise();case 5:n=t.sent,localStorage.setItem("roleData",JSON.stringify(n.response)),location.reload();case 7:return t.next=9,this.loadPermissions();case 9:case"end":return t.stop()}},t,this)}))}},{key:"getRoutePath",value:function(t,e){localStorage.setItem("basePath",e),localStorage.setItem("routePath",t),localStorage.setItem("guardRoutePath",t),localStorage.setItem("guardBasePath",e)}},{key:"loadPermissions",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e,n,c,a,i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.helper.enumtoArray(u.d),n=this.helper.enumtoArray(u.e),c=localStorage.getItem("role"),t.next=5,this.bannerRepo.getDashboardCount().toPromise();case 5:if(a=t.sent,console.log("count",a),t.t0=c,!t.t0){t.next=12;break}return t.next=11,this.roleService.getRoleById(c).toPromise();case 11:t.sent.response[0].rolePermissions.map(function(t){t.module[0].title==e.type.COURSES?t.subModules.find(function(t){t.title==n.type.VIEW&&(i.cardsArray.push({icon:"auto_stories",name:"Courses",count:a.response[0].Course,link:"/manage/courses/list",active:!0}),i.getRoutePath("courses","manage"))}):t.module[0].title==e.type.SYLLABUS?t.subModules.find(function(t){t.title==n.type.VIEW&&(i.cardsArray.push({icon:"subject",name:"Subjects",count:a.response[0].Syllabus,link:"/bank/syllabus/list",active:!0}),i.getRoutePath("syllabus","bank"))}):t.module[0].title==e.type.VIDEO_CYPHER?t.subModules.find(function(t){t.title==n.type.VIEW&&(i.cardsArray.push({icon:"play_circle_outline",name:"Videos",count:a.response[0].Videos,link:"/bank/videoCipher/list",active:!0}),i.getRoutePath("videoSubjects","videos"))}):t.module[0].title==e.type.EMPLOYEE?t.subModules.find(function(t){t.title==n.type.VIEW&&(i.cardsArray.push({icon:"people",name:"Employee",count:a.response[0].Employee,link:"/manage/employee/list",active:!0}),i.getRoutePath("employee","manage"))}):t.module[0].title==e.type.USERS?t.subModules.find(function(t){t.title==n.type.VIEW&&(i.cardsArray.push({icon:"people",name:"Users",count:a.response[0].Users,link:"/manage/users/list",active:!0}),i.cardsArray.push({icon:"people",name:"Active Users",count:a.response[0].activeUsers,link:"/manage/users/list",active:!0}),i.cardsArray.push({icon:"people",name:"SubscribedUsers",count:a.response[0].SubscribedUserCount,link:"/manage/users/list",active:!0}),i.getRoutePath("user","manage"))}):t.module[0].title==e.type.TESTS?t.subModules.find(function(t){t.title==n.type.VIEW&&(i.cardsArray.push({icon:"quiz",name:"Tests",count:a.response[0].Tests,link:"/test-series/categories/list",active:!0}),i.getRoutePath("categories","test-series"))}):t.module[0].title==e.type.SUBSCRIPTIONS?t.subModules.find(function(t){t.title==n.type.VIEW&&(i.cardsArray.push({icon:"subscriptions",name:"Packages",count:a.response[0].Subscription,link:"/manage/subscriptions/list",active:!0}),i.getRoutePath("subscriptions","manage"))}):t.module[0].title==e.type.COUPONS?t.subModules.find(function(t){t.title==n.type.VIEW&&(i.cardsArray.push({icon:"sell",name:"Coupons",count:a.response[0].Coupons,link:"/manage/coupons/list",active:!0}),i.getRoutePath("coupons","manage"))}):t.module[0].title==e.type.AGENTS&&t.subModules.find(function(t){t.title==n.type.AGENT_COUPONS&&"AGENT"==i.currentUserType&&(i.cardsArray.push({icon:"sell",name:"Agents",count:0,link:"/agent/coupons",active:!0}),i.getRoutePath("faculty","manage"))})});case 12:this.cardsArray=this.cardsArray.sort(function(t,e){return t.name>e.name?1:e.name>t.name?-1:0});case 13:case"end":return t.stop()}},t,this)}))}},{key:"getRouthPath",value:function(t){var e=t.split("/").join(" "),n=e.split(" ")[1],c=e.split(" ")[2];localStorage.setItem("basePath",n),localStorage.setItem("routePath",c)}}]),e}()).\u0275fac=function(t){return new(t||y)(d.Vb(r.mb),d.Vb(r.P),d.Vb(r.m))},y.\u0275cmp=d.Pb({type:y,selectors:[["application-dashboard"]],decls:4,vars:1,consts:[[2,"overflow","hidden"],[1,"row"],["class","col-sm-3",4,"ngFor","ngForOf"],[1,"col-sm-3"],[3,"routerLink","click",4,"ngIf"],[3,"routerLink","click"],[1,"vl"],[1,"titleHeading"]],template:function(t,e){1&t&&(d.bc(0,"div",0),d.Wb(1,"br"),d.bc(2,"div",1),d.Pc(3,p,2,1,"div",2),d.ac(),d.ac()),2&t&&(d.Kb(3),d.tc("ngForOf",e.cardsArray))},directives:[i.n,i.o,m.a,s.g,b.a],styles:[".titleHeading[_ngcontent-%COMP%]{width:100%;text-align:center}mat-card[_ngcontent-%COMP%]{width:100%;background-color:#fff;cursor:pointer;margin:0 0 20px}mat-icon[_ngcontent-%COMP%]{font-size:50px;color:#3498db}h4[_ngcontent-%COMP%]{font-weight:500}h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{color:#1b4f72}h5[_ngcontent-%COMP%]{font-weight:450}.vl[_ngcontent-%COMP%]{border-left:2px solid #d7dbdd;height:100px;margin-left:50px}"]}),y),f=a("0MNC"),v=a("kmnG"),w=a("d3UM"),k=a("icpI"),P=a("FKr1");function S(t,e){if(1&t&&(d.bc(0,"h1",15),d.Qc(1),d.nc(2,"currency"),d.ac()),2&t){var n=d.mc();d.Kb(1),d.Sc("",d.pc(2,1,null==n.payments?null:n.payments.today,"INR")," ")}}function I(t,e){1&t&&(d.bc(0,"h1",15),d.Qc(1,"\u20b90.00"),d.ac())}function R(t,e){if(1&t&&(d.bc(0,"h1",15),d.Qc(1),d.nc(2,"currency"),d.ac()),2&t){var n=d.mc();d.Kb(1),d.Rc(d.pc(2,1,null==n.payments?null:n.payments.this_week,"INR"))}}function C(t,e){1&t&&(d.bc(0,"h1",15),d.Qc(1,"\u20b90.00"),d.ac())}function O(t,e){if(1&t&&(d.bc(0,"h1",15),d.Qc(1),d.nc(2,"currency"),d.ac()),2&t){var n=d.mc();d.Kb(1),d.Rc(d.pc(2,1,null==n.payments?null:n.payments.this_month,"INR"))}}function W(t,e){1&t&&(d.bc(0,"h1",15),d.Qc(1,"\u20b90.00"),d.ac())}function M(t,e){if(1&t&&(d.bc(0,"h1",15),d.Qc(1),d.nc(2,"currency"),d.ac()),2&t){var n=d.mc();d.Kb(1),d.Rc(d.pc(2,1,null==n.payments?null:n.payments.this_year,"INR"))}}function Q(t,e){1&t&&(d.bc(0,"h1",15),d.Qc(1,"\u20b90.00"),d.ac())}function A(t,e){if(1&t){var n=d.cc();d.bc(0,"mat-option",16),d.ic("click",function(){d.Fc(n);var t=e.$implicit;return d.mc().selectMonths(t)}),d.Qc(1),d.ac()}if(2&t){var c=e.$implicit;d.tc("value",c),d.Kb(1),d.Sc(" ",c,"\xa0Months")}}var _,E,K=[{path:"",runGuardsAndResolvers:"always",children:[{path:"",component:g,canActivate:[r.j]},{path:"payments",component:(_=function(){function e(n,c,a){t(this,e),this.breakpointObserver=n,this.userTransactionsService=c,this.notification=a,this.months=[3,6,9,12],this.type="ColumnChart",this.data=[["",0]],this.weeklyData=[["",0]],this.columnNames=["","Income"],this.isMobile=!1,this.width=window.innerWidth,this.height=window.innerHeight,this.mobileWidth=760}return n(e,[{key:"ngOnInit",value:function(){var t=this;this.userTransactionsService.yearwiseTransactions({months:3}).subscribe(function(e){t.data=e.response}),this.userTransactionsService.weeklyPayments().subscribe(function(e){t.weeklyData=e.response}),this.userTransactionsService.paymentsReports().subscribe(function(e){t.payments=e.response}),this.windowSize()}},{key:"selectMonths",value:function(t){var e=this;this.userTransactionsService.yearwiseTransactions({months:t}).subscribe(function(t){e.windowSize(),e.data=t.response,e.notification.showNotification({type:r.W.SUCCESS,payload:{message:"User Payments Fetched Successfully",statusCode:200,statusText:"Successfully",status:201}})})}},{key:"windowSize",value:function(){this.columnOptions=this.width<760?{is3D:!0,responsive:!0,width:350,height:300,legend:{position:"top",maxLines:2},bar:{groupWidth:"50%"},isStacked:!1,animation:{duration:2e3,easing:"out"}}:{is3D:!0,responsive:!0,width:600,height:350,legend:{position:"top",maxLines:2},bar:{groupWidth:"50%"},isStacked:!1,animation:{duration:2e3,easing:"out"}}}},{key:"onWindowResize",value:function(t){this.width=t.target.innerWidth,this.height=t.target.innerHeight,this.isMobile=this.width<this.mobileWidth,this.windowSize()}}]),e}(),_.\u0275fac=function(t){return new(t||_)(d.Vb(f.a),d.Vb(r.Db),d.Vb(r.V))},_.\u0275cmp=d.Pb({type:_,selectors:[["application-payments-dashboard"]],hostBindings:function(t,e){1&t&&d.ic("resize",function(t){return e.onWindowResize(t)},!1,d.Ec)},decls:82,vars:23,consts:[[2,"overflow","hidden"],[1,"row"],[1,"col-sm-3"],[1,"dashboard",2,"background-color","#607D8B","color","white"],[1,"dashboard-card-content"],["style","text-align: center;font-weight: 500;",4,"ngIf"],[1,"dashboard",2,"background-color","rgb(245, 101, 130)","color","white"],[1,"dashboard",2,"background-color","#2196F3","color","white"],[1,"dashboard",2,"background-color","mediumpurple","color","white"],[1,"col-sm-4"],[3,"value","click",4,"ngFor","ngForOf"],[2,"color","#5D6D7E"],[1,"col-sm-6"],[3,"type","data","columns","options"],["type","PieChart",3,"data","columns","options"],[2,"text-align","center","font-weight","500"],[3,"value","click"]],template:function(t,e){1&t&&(d.bc(0,"div",0),d.bc(1,"div",1),d.bc(2,"div",2),d.bc(3,"mat-card",3),d.bc(4,"mat-card-header"),d.bc(5,"mat-card-title"),d.bc(6,"mat-icon"),d.Qc(7,"money"),d.ac(),d.Qc(8,"\xa0 "),d.bc(9,"span"),d.Qc(10,"Today"),d.ac(),d.ac(),d.ac(),d.bc(11,"mat-card-content",4),d.Pc(12,S,3,4,"h1",5),d.Pc(13,I,2,0,"h1",5),d.ac(),d.ac(),d.ac(),d.bc(14,"div",2),d.bc(15,"mat-card",6),d.bc(16,"mat-card-header"),d.bc(17,"mat-card-title"),d.bc(18,"mat-icon"),d.Qc(19,"payments"),d.ac(),d.Qc(20," \xa0 "),d.bc(21,"span"),d.Qc(22,"Current\xa0Week"),d.ac(),d.ac(),d.ac(),d.bc(23,"mat-card-content",4),d.Pc(24,R,3,4,"h1",5),d.Pc(25,C,2,0,"h1",5),d.ac(),d.ac(),d.ac(),d.bc(26,"div",2),d.bc(27,"mat-card",7),d.bc(28,"mat-card-header"),d.bc(29,"mat-card-title"),d.bc(30,"mat-icon"),d.Qc(31,"account_balance_wallet"),d.ac(),d.Qc(32," \xa0 "),d.bc(33,"span"),d.Qc(34,"Current\xa0Month"),d.ac(),d.ac(),d.ac(),d.bc(35,"mat-card-content",4),d.Pc(36,O,3,4,"h1",5),d.Pc(37,W,2,0,"h1",5),d.ac(),d.ac(),d.ac(),d.bc(38,"div",2),d.bc(39,"mat-card",8),d.bc(40,"mat-card-header"),d.bc(41,"mat-card-title"),d.bc(42,"mat-icon"),d.Qc(43,"local_atm"),d.ac(),d.Qc(44," \xa0 "),d.bc(45,"span"),d.Qc(46,"Current\xa0Year"),d.ac(),d.ac(),d.ac(),d.bc(47,"mat-card-content",4),d.Pc(48,M,3,4,"h1",5),d.Pc(49,Q,2,0,"h1",5),d.ac(),d.ac(),d.ac(),d.ac(),d.Wb(50,"br"),d.Wb(51,"br"),d.bc(52,"mat-card"),d.bc(53,"div",1),d.bc(54,"div",9),d.bc(55,"mat-form-field"),d.bc(56,"mat-label"),d.Qc(57,"Select Months"),d.ac(),d.bc(58,"mat-select"),d.Pc(59,A,2,2,"mat-option",10),d.ac(),d.ac(),d.ac(),d.bc(60,"div",9),d.bc(61,"h2",11),d.Qc(62,"Monthly\xa0Payments"),d.ac(),d.ac(),d.Wb(63,"div",9),d.ac(),d.bc(64,"div",1),d.bc(65,"div",12),d.Wb(66,"google-chart",13),d.ac(),d.bc(67,"div",12),d.Wb(68,"google-chart",14),d.ac(),d.ac(),d.Wb(69,"br"),d.Wb(70,"br"),d.bc(71,"div",1),d.Wb(72,"div",9),d.bc(73,"div",9),d.bc(74,"h2",11),d.Qc(75,"Weekly\xa0Payments"),d.ac(),d.ac(),d.Wb(76,"div",9),d.ac(),d.bc(77,"div",1),d.bc(78,"div",12),d.Wb(79,"google-chart",13),d.ac(),d.bc(80,"div",12),d.Wb(81,"google-chart",14),d.ac(),d.ac(),d.ac(),d.ac()),2&t&&(d.Kb(12),d.tc("ngIf",null==e.payments?null:e.payments.today),d.Kb(1),d.tc("ngIf",!(null!=e.payments&&e.payments.today)),d.Kb(11),d.tc("ngIf",null==e.payments?null:e.payments.this_week),d.Kb(1),d.tc("ngIf",!(null!=e.payments&&e.payments.this_week)),d.Kb(11),d.tc("ngIf",null==e.payments?null:e.payments.this_month),d.Kb(1),d.tc("ngIf",!(null!=e.payments&&e.payments.this_month)),d.Kb(11),d.tc("ngIf",null==e.payments?null:e.payments.this_year),d.Kb(1),d.tc("ngIf",!(null!=e.payments&&e.payments.this_year)),d.Kb(10),d.tc("ngForOf",e.months),d.Kb(7),d.tc("type",e.type)("data",e.data)("columns",e.columnNames)("options",e.columnOptions),d.Kb(2),d.tc("data",e.data)("columns",e.columnNames)("options",e.columnOptions),d.Kb(11),d.tc("type",e.type)("data",e.weeklyData)("columns",e.columnNames)("options",e.columnOptions),d.Kb(2),d.tc("data",e.weeklyData)("columns",e.columnNames)("options",e.columnOptions))},directives:[m.a,m.e,m.g,b.a,m.d,i.o,v.b,v.e,w.a,i.n,k.a,P.m],pipes:[i.d],styles:[".dashboard[_ngcontent-%COMP%]{height:100px;margin:10px}"]}),_),canActivate:[r.j,r.ab]},{path:"",pathMatch:"full",redirectTo:"/dashboard"}]}],T=((E=function e(){t(this,e)}).\u0275mod=d.Tb({type:E}),E.\u0275inj=d.Sb({factory:function(t){return new(t||E)},imports:[[i.c,o.c,s.j.forChild(K),r.zb,k.b]]}),E)}}])}();