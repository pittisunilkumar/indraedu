<div class="qBankQuestions">
  <div class="title" *ngIf="perals$?.title">
    <b (click)="backToPerals()">{{ perals$?.title}}&nbsp;/&nbsp;Questions</b>
  </div>
  <div class="search">
    <mat-form-field class="full-width">
      <mat-label translate>COMMON.SEARCH</mat-label>
      <input type="search" matInput name="search" [placeholder]="'COMMON.FILTER.BY_TITLE' | translate"
        (keyup)="filterList($event)" #input />
    </mat-form-field>
  </div>
  <!-- <div class="example-action-buttons">
    <button mat-stroked-button color="primary" (click)="accordion.openAll()">Expand All</button>&nbsp;&nbsp;
    <button  mat-stroked-button color="warn" (click)="accordion.closeAll()">Collapse All</button>
  </div> -->
  <table mat-table [dataSource]="filteredQuestions" matSort>
    <ng-container matColumnDef="title">
      <th mat-header-cell *matHeaderCellDef mat-sort-header style="display:none">
        {{ 'COMMON.TITLE' | translate }}
      </th>
      <td mat-cell *matCellDef="let it;let i = index">
  
        <mat-accordion class="example-headers-align" multi>
  
          <mat-expansion-panel class="question">
            <mat-expansion-panel-header style="height: auto;">
              <mat-panel-title style="width: 100%;">
               <span style="margin-top: 20px;font-weight: bold;">{{i+1}}.&nbsp;</span>&nbsp;<span [innerHTML]="it.title"></span>
              </mat-panel-title>
              <mat-panel-description>
              </mat-panel-description>
            </mat-expansion-panel-header>
  
            <div class="bg-f8 pb-0">
              <div class="flex-wrap">
                <div class="w-1-2" *ngFor="let opt of it?.options; let i = index;">
                  <strong translate>COMMON.OPTIONS</strong> {{ i + 1 }} <br>
                  <span [innerHTML]="opt.name"></span>
                </div>
              </div>
            </div>
            <!-- <div class="text-right actions" title="toggle question">
              <mat-icon class="view" color="warn" (click)="delete.emit(it)" matTooltip="Delete">
                delete
              </mat-icon>
              <mat-icon class="view" color="primary" (click)="edit.emit(it)" matTooltip="Edit">edit
              </mat-icon>
            </div> -->
          </mat-expansion-panel>
        </mat-accordion>
      </td>
    </ng-container>
  
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    <tr class="mat-row" *matNoDataRow style="text-align: center;">
      <td class="mat-cell" colspan="4">
        <h1 translate>COMMON.NO_DATA</h1>
      </td>
    </tr>
  </table>
  
  
  <mat-paginator [showFirstLastButtons]="true" [pageSizeOptions]="totalLength"></mat-paginator>
  
</div>
